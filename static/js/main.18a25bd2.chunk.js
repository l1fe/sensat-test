(this.webpackJsonpsensat=this.webpackJsonpsensat||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var r,a,o,c,s,i,d,l,b=n(0),u=n.n(b),j=n(21),g=n.n(j),p=(n(33),n(34),n(7)),h=n(22),O=n.n(h),f=n(23),x=function(e){return e.split("\n").filter((function(e){return e.length})).map((function(e){try{var t=JSON.parse(e);return t.reading_ts=new Date("".concat(t.reading_ts,"Z")),t}catch(n){return{}}}))},m=n(2),v=n(6),y=n(28),S=n(4),w=n(5),H=w.a.div(r||(r=Object(S.a)(["\n  display: inline-block;\n  border-spacing: 0;\n  border: 1px solid black;\n"]))),k=w.a.div(a||(a=Object(S.a)(["\n  border-bottom: 1px solid black;\n  background-color: papayawhip;\n"]))),F=w.a.div(o||(o=Object(S.a)([""]))),C=w.a.div(c||(c=Object(S.a)(["\n  margin: 0;\n  padding: 0.5rem;\n  border-bottom: 1px solid black;\n  border-right: 1px solid black;\n  font-weight: 600;\n\n  ","\n"])),(function(e){return e.canSort&&"\n  background-color: yellow;\n\n  &:hover {\n    opacity: 0.5;\n  }\n  "})),P=w.a.div(s||(s=Object(S.a)(["\n  margin: 0;\n  padding: 0.5rem;\n  border-bottom: 1px solid black;\n  border-right: 1px solid black;\n"]))),T=w.a.div(i||(i=Object(S.a)(["\n  &:last-child {\n    ."," {\n      border-bottom: 0;\n    }\n  }\n\n  ","\n"])),P.selector,(function(e){return e.empty&&"\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 36px;\n  "})),B=w.a.div(d||(d=Object(S.a)(["\n  width: 100%;\n  padding: 0 4px;\n  box-sizing: border-box;\n"]))),R=w.a.input(l||(l=Object(S.a)(["\n  width: 100%;\n  box-sizing: border-box;\n"]))),_=n(1),D=function(e){var t=e.column,n=t.filterValue,r=t.preFilteredRows,a=t.setFilter,o=Object(b.useState)(n),c=Object(p.a)(o,2),s=c[0],i=c[1],d=r.length,l=Object(v.useAsyncDebounce)((function(e){a(e||void 0)}),200);return Object(_.jsx)(B,{children:Object(_.jsx)(R,{value:s||"",onChange:function(e){i(e.target.value),l(e.target.value)},placeholder:"Search ".concat(d," records...")})})},L=function(e){var t=e.sensorReadings,n=e.loading,r=e.error,a=Object(b.useMemo)((function(){return[{Header:"ID",accessor:"id"},{Header:"Box ID",accessor:"box_id"},{accessor:"sensor_type",Header:"Type of the sensor",disableSortBy:!1,disableFilters:!1},{Header:"Type of data",accessor:"name",disableFilters:!1},{Header:"Range",columns:[{Header:"Lower bound",accessor:"range_l"},{Header:"Upper bound",accessor:"range_u"}]},{Header:"Geolocation",columns:[{Header:"Latitude",accessor:"latitude"},{Header:"Longitude",accessor:"longitude"}]},{Header:"Measurement unit",accessor:"unit"},{Header:"Timestamp",accessor:"reading_ts",sortType:"datetime",disableSortBy:!1,Cell:function(e){var t=e.value.toUTCString();return Object(_.jsx)("span",{children:t})}}]}),[]),o=Object(b.useMemo)((function(){return{Filter:D,disableFilters:!0,disableSortBy:!0,width:150}}),[]),c=Object(v.useTable)({columns:a,data:t,defaultColumn:o},v.useFilters,v.useSortBy,v.useBlockLayout),s=c.getTableProps,i=c.getTableBodyProps,d=c.headerGroups,l=c.rows,j=c.totalColumnsWidth,g=c.prepareRow,p=u.a.useCallback((function(e){var t=e.index,n=e.style,r=l[t];return g(r),Object(_.jsx)(T,Object(m.a)(Object(m.a)({},r.getRowProps({style:n})),{},{children:r.cells.map((function(e){return Object(_.jsx)(P,Object(m.a)(Object(m.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}),[g,l]);return Object(_.jsxs)(H,Object(m.a)(Object(m.a)({},s()),{},{children:[Object(_.jsxs)(k,{children:[d.map((function(e){return Object(_.jsx)(T,Object(m.a)(Object(m.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(_.jsxs)(C,Object(m.a)(Object(m.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{canSort:e.canSort,children:[e.render("Header"),Object(_.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))})),d.length>0&&Object(_.jsx)(T,Object(m.a)(Object(m.a)({},d[1].getHeaderGroupProps()),{},{children:d[1].headers.map((function(e){return Object(_.jsx)(C,Object(m.a)(Object(m.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:e.canFilter?e.render("Filter"):null}))}))}))]}),Object(_.jsx)(F,Object(m.a)(Object(m.a)({},i()),{},{children:l.length>0?Object(_.jsx)(y.a,{height:600,itemCount:l.length,itemSize:66,width:j,children:p}):Object(_.jsxs)(T,{empty:!0,children:[n?"Loading":"No data was found",r&&"[Got an error: ".concat(r,"]")]})}))]}))},G=function(){var e=Object(b.useState)({loading:!1,error:"",sensorReadings:[]}),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(f.a)(x),o=Object(p.a)(a,1)[0];return Object(b.useEffect)((function(){r({loading:!0,error:"",sensorReadings:[]}),O.a.get("https://bitbucket.org/sensatmapp/angular-take-home-test-1/raw/c071f2057457da27d051617ce2c9fbf18f1f263e/data/sensor_readings.json").then((function(e){var t=e.data;return o(t)})).then((function(e){r({loading:!1,error:"",sensorReadings:e})})).catch((function(e){r({loading:!1,error:e.message||"Error",sensorReadings:[]})}))}),[o]),Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{children:"Dashboard"}),Object(_.jsx)(L,{sensorReadings:n.sensorReadings,loading:n.loading,error:n.error})]})};var I=function(){return Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(G,{})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))};g.a.render(Object(_.jsx)(u.a.StrictMode,{children:Object(_.jsx)(I,{})}),document.getElementById("root")),M()}},[[57,1,2]]]);
//# sourceMappingURL=main.18a25bd2.chunk.js.map