(this.webpackJsonpsensat=this.webpackJsonpsensat||[]).push([[0],{36:function(e,t,r){},37:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var n,a,c,o,s,i,d,g,l=r(0),u=r.n(l),b=r(23),j=r.n(b),p=(r(36),r(37),r(7)),O=r(24),h=r.n(O),f=r(25),x=function(e){return e.split("\n").filter((function(e){return e.length})).map((function(e){try{return JSON.parse(e)}catch(t){return{}}}))},m=r(2),v=r(27),y=r(11),w=r.n(y),H=r(6),S=r(31),k=r(4),A=r(5),P=A.a.div(n||(n=Object(k.a)(["\n  display: inline-block;\n  border-spacing: 0;\n  border: 1px solid black;\n"]))),B=A.a.div(a||(a=Object(k.a)(["\n  border-bottom: 1px solid black;\n  background-color: papayawhip;\n"]))),F=A.a.div(c||(c=Object(k.a)([""]))),T=A.a.div(o||(o=Object(k.a)(["\n  margin: 0;\n  padding: 0.5rem;\n  border-bottom: 1px solid black;\n  border-right: 1px solid black;\n  font-weight: 600;\n\n  ","\n"])),(function(e){return e.canSort&&"\n  background-color: yellow;\n\n  &:hover {\n    opacity: 0.5;\n  }\n  "})),C=A.a.div(s||(s=Object(k.a)(["\n  margin: 0;\n  padding: 0.5rem;\n  border-bottom: 1px solid black;\n  border-right: 1px solid black;\n"]))),R=A.a.div(i||(i=Object(k.a)(["\n  &:last-child {\n    ."," {\n      border-bottom: 0;\n    }\n  }\n\n  ","\n"])),C.selector,(function(e){return e.empty&&"\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 36px;\n  "})),G=A.a.div(d||(d=Object(k.a)(["\n  width: 100%;\n  padding: 0 4px;\n  box-sizing: border-box;\n"]))),D=A.a.input(g||(g=Object(k.a)(["\n  width: 100%;\n  box-sizing: border-box;\n"]))),E=r(1),L=function(e){var t=e.column,r=t.filterValue,n=t.preFilteredRows,a=t.setFilter,c=Object(l.useState)(r),o=Object(p.a)(c,2),s=o[0],i=o[1],d=n.length,g=Object(H.useAsyncDebounce)((function(e){a(e||void 0)}),200);return Object(E.jsx)(G,{children:Object(E.jsx)(D,{value:s||"",onChange:function(e){i(e.target.value),g(e.target.value)},placeholder:"Search ".concat(d," records...")})})},_=w()((function(e,t){if(!e)return-1;if(!t)return 1;var r=new Date("".concat(e,"Z")),n=new Date("".concat(e,"Z")),a=r.getTime(),c=n.getTime();return a===c?0:a>c?1:-1})),I=function(e,t,r){var n=[e.values[r],t.values[r]];return _(n[0],n[1])},J=w()((function(e){var t,r=new Set,n=Object(v.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;r.add(a)}}catch(c){n.e(c)}finally{n.f()}return Array.from(r)})),M=function(e){var t=e.value;return t.length>1?JSON.stringify(t):t[0]},N=function(e){var t=e.sensorReadings,r=e.loading,n=e.error,a=Object(l.useMemo)((function(){return[{Header:"ID",accessor:"id",disableGroupBy:!1},{Header:"Box ID",accessor:"box_id",aggregate:J,Aggregated:M},{accessor:"sensor_type",Header:"Type of the sensor",disableSortBy:!1,disableFilters:!1,aggregate:J,Aggregated:M},{Header:"Type of data",accessor:"name",disableFilters:!1,aggregate:J,Aggregated:M},{Header:"Range",columns:[{Header:"Lower bound",accessor:"range_l",aggregate:J,Aggregated:M},{Header:"Upper bound",accessor:"range_u",aggregate:J,Aggregated:M}]},{Header:"Geolocation",columns:[{Header:"Latitude",accessor:"latitude",aggregate:J,Aggregated:M},{Header:"Longitude",accessor:"longitude",aggregate:J,Aggregated:M}]},{Header:"Measurement unit",accessor:"unit",aggregate:J,Aggregated:M},{Header:"Actual value (Reading)",accessor:"reading",aggregate:"median"},{Header:"Timestamp",accessor:"reading_ts",sortType:I,disableSortBy:!1,Cell:function(e){if(!e.value)return null;var t=new Date("".concat(e.value,"Z")).toUTCString();return Object(E.jsx)("span",{children:t})},aggregate:"uniqueCount",Aggregated:function(e){var t=e.value;return"".concat(t," unique entries")}}]}),[]),c=Object(l.useMemo)((function(){return{Filter:L,disableFilters:!0,disableSortBy:!0,disableGroupBy:!0,width:150}}),[]),o=Object(H.useTable)({columns:a,data:t,defaultColumn:c},H.useFilters,H.useGroupBy,H.useSortBy,H.useExpanded,H.useBlockLayout),s=o.getTableProps,i=o.getTableBodyProps,d=o.headerGroups,g=o.rows,b=o.totalColumnsWidth,j=o.prepareRow,p=u.a.useCallback((function(e){var t=e.index,r=e.style,n=g[t];return j(n),Object(E.jsx)(R,Object(m.a)(Object(m.a)({},n.getRowProps({style:r})),{},{children:n.cells.map((function(e){return Object(E.jsxs)(C,Object(m.a)(Object(m.a)({},e.getCellProps()),{},{children:[" ",e.isGrouped?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",Object(m.a)(Object(m.a)({},n.getToggleRowExpandedProps()),{},{children:n.isExpanded?"\ud83d\udc47":"\ud83d\udc49"}))," ",e.render("Cell")," (",n.subRows.length,")"]}):e.isAggregated?e.render("Aggregated"):e.isPlaceholder?null:e.render("Cell")]}))}))}))}),[j,g]);return Object(E.jsxs)(P,Object(m.a)(Object(m.a)({},s()),{},{children:[Object(E.jsxs)(B,{children:[d.map((function(e){return Object(E.jsx)(R,Object(m.a)(Object(m.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(E.jsxs)(T,Object(m.a)(Object(m.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{canSort:e.canSort,children:[e.render("Header"),Object(E.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))})),d.length>0&&Object(l.createElement)(R,Object(m.a)(Object(m.a)({},d[1].getHeaderGroupProps()),{},{key:"Filtering"}),d[1].headers.map((function(e){return Object(E.jsx)(T,Object(m.a)(Object(m.a)({},e.getHeaderProps()),{},{children:e.canFilter?e.render("Filter"):null}))}))),d.length>0&&Object(l.createElement)(R,Object(m.a)(Object(m.a)({},d[1].getHeaderGroupProps()),{},{key:"Aggregation"}),d[1].headers.map((function(e){return Object(E.jsx)(T,Object(m.a)(Object(m.a)({},e.getHeaderProps()),{},{children:e.canGroupBy?Object(E.jsx)("span",Object(m.a)(Object(m.a)({},e.getGroupByToggleProps()),{},{children:e.isGrouped?"Exit aggregation\ud83d\uded1 ":"Aggregate\ud83d\udc4a"})):null}))})))]}),Object(E.jsx)(F,Object(m.a)(Object(m.a)({},i()),{},{children:g.length>0?Object(E.jsx)(S.a,{height:600,itemCount:g.length,itemSize:66,width:b,children:p}):Object(E.jsxs)(R,{empty:!0,children:[r?"Loading":"No data was found",n&&"[Got an error: ".concat(n,"]")]})}))]}))},z=function(){var e=Object(l.useState)({loading:!1,error:"",sensorReadings:[]}),t=Object(p.a)(e,2),r=t[0],n=t[1],a=Object(f.a)(x),c=Object(p.a)(a,1)[0];return Object(l.useEffect)((function(){n({loading:!0,error:"",sensorReadings:[]}),h.a.get("https://bitbucket.org/sensatmapp/angular-take-home-test-1/raw/c071f2057457da27d051617ce2c9fbf18f1f263e/data/sensor_readings.json").then((function(e){var t=e.data;return c(t)})).then((function(e){n({loading:!1,error:"",sensorReadings:e})})).catch((function(e){n({loading:!1,error:e.message||"Error",sensorReadings:[]})}))}),[c]),Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{children:"Dashboard"}),Object(E.jsx)(N,{sensorReadings:r.sensorReadings,loading:r.loading,error:r.error})]})};var Z=function(){return Object(E.jsx)("div",{className:"App",children:Object(E.jsx)(z,{})})},q=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,61)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))};j.a.render(Object(E.jsx)(u.a.StrictMode,{children:Object(E.jsx)(Z,{})}),document.getElementById("root")),q()}},[[60,1,2]]]);
//# sourceMappingURL=main.559f3cd6.chunk.js.map